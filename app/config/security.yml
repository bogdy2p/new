security:
    providers:
        api_key_user_provider:
            id: api_key_user_provider
#        in_memory:
#            memory: ~      
#                users:
#                    ryan:
#                        password: ryanpass
#                        roles: 'ROLE_ADMIN'
#                    admin:
#                        password: password
#                        roles: 'ROLE_ADMIN'
        
    firewalls:
        dev:
            pattern: ^/(_(profiler|wdt|error)|css|images|js)/
            security: false
        blabla:
            pattern: /dash
            stateless: true
            simple_preauth:
                authenticator: apikey_authenticator
        default:
            anonymous: ~
#            http_basic: ~
            form_login:
                login_path: /login
                default_target_path: /dash
            logout:
                invalidate_session: true
                delete_cookies:
                    apikey: { path: null, domain:null}
                    
                path:   /logout
                
                target: /
            
    access_control:
        - { path: ^/admin, roles: ROLE_ADMIN }
    encoders:
        Symfony\Component\Security\Core\User\User: plaintext
        
    role_hierarchy:
        ROLE_VIEWER:    ROLE_USER
        ROLE_CONTRIBUTOR: [ROLE_VIEWER, ROLE_USER]
        ROLE_ADMINISTRATOR: [ROLE_CONTRIBUTOR, ROLE,VIEWER, ROLE_USER, ROLE_ALLOWED_TO_SWITCH]